---
title: Using Crunchy PostgreSQL for PCF
owner: Crunchy Data 
---

This topic describes how to use Crunchy PostgreSQL for Pivotal Cloud Foundry (PCF).

##<a id='using'></a> Create and Bind a Service Instance

Follow the steps below to create and bind a service instance of Crunchy PostgreSQL to use with your app.

1. Create a service instance using the following command as a template:

    <pre class="terminal">
    cf create-service postgresql-9.5 db-10gb my_pgsql -c '
    {
        "db_name": "crunchydb",
        "db_username": "crunchy",
        "owner_name": "Crunchy Data",
        "owner_email": "admin@crunchydata.com"
    }'
    </pre>

1. Bind the service instance to your application:

    <pre class="terminal">
    cf bind-service APP_NAME SERVICE_INSTANCE_NAME
    </pre>

1. Run the following command to restage your app so that it can use the service:
    <pre class="terminal">
    $ cf restage APP_NAME
    </pre>

1. Now that the app is bound to the Crunchy PostgreSQL service, you can use the credentials provided  when creating the service instance to connect to the service.

##<a id='diaster'></a> Restore Database from Backup

Follow the steps below to restore a Crunchy PostgreSQL database from a backup.

1. SSH into the Leader database that needs a restoration.

1. As the `vcap` user, run the following command:

    <pre class="terminal">
    /var/vcap/jobs/postgresql/bin/restore 
    </pre>
