---
title: Installing and Configuring Crunchy PostgreSQL For PCF
owner: Crunchy Data 
---

This topic describes how to install and configure Crunchy PostgreSQL for Pivotal Cloud Foundry (PCF).

##<a id='import'></a> Import the Tile to Ops Manager

1. Download the product file from [Pivotal Network](https://network.pivotal.io/).

1. Navigate to the Ops Manager Installation Dashboard and click **Import a Product** to upload the product file. 

1. Click **Add** next to the uploaded Crunchy PostgreSQL for PCF tile in the Ops Manager **Available Products** view to add it to your staging area.

##<a id='config'></a> Configure Tile Settings

Click the newly added Crunchy PostgreSQL for PCF tile and configure each pane using the sections below.

###<a id='sec'></a>Security 

1. Select **Security**.

2. Enter strong passwords for the following roles:
	* **PostgreSQL administrator**
	* **PostgreSQL replication**
	* **Broker administrator**

2. Enter a **Certificate Authority (CA) Cert for Consul**.

2. Enter a **Client Certificate for Consul** signed by the certificate from the previous step.

2. Enter the  **Client Key for Consul** that you used to create the client certificate.

2. Enter a **Server Certificate for Consul** signed by the CA certificate you entered.

2. Enter the **Server Key for Consul** that you used to create the server certificate.

2. Click **Save**.

###<a id='p-config'></a>PostgreSQL Configuration

1. Select **PostgreSQL Configuration**.

2. Enter the port for the PostgreSQL Leader server.

2. Enter the port for the PostgreSQL Replica servers.

2. Specify the maximum amount of concurrent connections to the database server.

2. Specify the amount of memory the server can use for shared buffers.

2. Specify the amount of memory to use for maintenance operations such as `VACUUM` and `CREATE INDEX`.

2. Click **Save**.

###<a id='h-config'></a>HAProxy Configuration

1. Select **HAProxy Configuration**.

2. Enter the port for the PostgreSQL HAProxy server.

2. Enter the port for the Broker HAProxy server.

2. Click **Save**.

###<a id='b-config'></a>Broker Configuration

1. Select **Broker Configuration**.

2. Enter the port for the Broker servers.

2. Click **Save**.

##<a id='install'></a> Install the Tile

Return to the Ops Manager Installation Dashboard and click **Apply Changes** to install the Crunchy PostgreSQL for PCF tile.
